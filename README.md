## 1. Скрипт rmtrash
- a. Скрипту передается один параметр – имя файла в текущем каталоге вызова скрипта.
- b. Скрипт проверяет, создан ли скрытый каталог trash в домашнем каталоге пользователя. Если он не создан – создает его.
- c. После этого скрипт создает в этом каталоге жесткую ссылку на переданный файл с уникальным именем (например, присваивает каждой новой ссылке имя, соответствующее следующему натуральному числу) и удаляет файл в текущем каталоге.
- d. Затем в скрытый файл trash.log в домашнем каталоге пользователя помещается запись, содержащая полный исходный путь к удаленному файлу и имя созданной жесткой ссылки.
## 2. Скрипт untrash
- a. Скрипту передается один параметр – имя файла, который нужно восстановить (без полного пути –только имя).
- b. Скрипт по файлу trash.log должен найти все записи, содержащие в качестве имени файлапереданный параметр, и выводить по одному на экран полные имена таких файлов с запросомподтверждения.
- c. Если пользователь отвечает на подтверждение положительно, то предпринимается попыткавосстановить файл по указанному полному пути (создать в соответствующем каталоге жесткуюссылку на файл из trash и удалить соответствующий файл из trash). Если каталога, указанногов полном пути к файлу, уже не существует, то файл восстанавливается в домашний каталогпользователя с выводом соответствующего сообщения. При невозможности создать жесткуюссылку, например, из-за конфликта имен, пользователю предлагается изменить имявосстанавливаемого файла.
## 3. Скрипт backup
- a. Скрипт создаст в /home/user/ каталог с именем Backup-YYYY-MM-DD, где YYYY-MM-DD –дата запуска скрипта, если в /home/user/ нет каталога с именем, соответствующим дате,отстоящей от текущей менее чем на 7 дней. Если в /home/user/ уже есть «действующий»каталог резервного копирования (созданный не ранее 7 дней от даты запуска скрипта), то новыйкаталог не создается. Для определения текущей даты можно воспользоваться командой date.
- b. Если новый каталог был создан, то скрипт скопирует в этот каталог все файлы из каталога/home/user/source/ (для тестирования скрипта создайте такую директорию и набор файлов вней). После этого скрипт выведет в режиме дополнения в файл /home/user/backup-reportследующую информацию: строка со сведениями о создании нового каталога с резервнымикопиями с указанием его имени и даты создания; список файлов из /home/user/source/,которые были скопированы в этот каталог.
- c. Если каталог не был создан (есть «действующий» каталог резервного копирования), то скриптдолжен скопировать в него все файлы из /home/user/source/ по следующим правилам: еслифайла с таким именем в каталоге резервного копирования нет, то он копируется из/home/user/source. Если файл с таким именем есть, то его размер сравнивается с размеромодноименного файла в действующем каталоге резервного копирования. Если размеры совпадают,файл не копируется. Если размеры отличаются, то файл копируется c автоматическим созданиемверсионной копии, таким образом, в действующем каталоге резервного копирования появляютсяобе версии файла (уже имеющийся файл переименовывается путем добавления дополнительногорасширения «.YYYY-MM-DD» (дата запуска скрипта), а скопированный сохраняет имя). Послеокончания копирования в файл /home/user/backup-report выводится строка о внесенииизменений в действующий каталог резервного копирования с указанием его имени и датывнесения изменений, затем строки, содержащие имена добавленных файлов с новыми именами, азатем строки с именами добавленных файлов с существовавшими в действующем каталогерезервного копирования именами с указанием через пробел нового имени, присвоенногопредыдущей версии этого файла.
## 4. Скрипт upback
- a. Скрипт должен скопировать в каталог /home/user/restore/ все файлы из актуального наданный момент каталога резервного копирования (имеющего в имени наиболее свежую дату), заисключением файлов с предыдущими версиями.
